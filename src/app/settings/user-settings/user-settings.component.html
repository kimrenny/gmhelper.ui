<div class="settings-container">
  <div class="user-info">
    <img
      [src]="userAvatarUrl || '../../assets/icons/default-avatar.png'"
      alt="User Avatar"
      class="user-avatar"
    />
    <h3>{{ userNickname }}</h3>
  </div>

  <form
    (ngSubmit)="onSubmit()"
    [formGroup]="settingsForm"
    class="settings-form"
  >
    <div class="form-group">
      <label for="avatar">{{ "SETTINGS.FORM.AVATAR" | translate }}</label>
      <div class="avatar-upload-section">
        <div class="avatar-upload-row">
          <div class="avatar-preview-container">
            <img
              [src]="
                userAvatarUpload || '../../assets/icons/default-avatar.png'
              "
              alt="User Avatar"
              class="avatar-preview"
            />
          </div>
          <label for="avatar" class="file-upload">{{
            "SETTINGS.FORM.AVATAR_UPLOAD" | translate
          }}</label>
          <input
            id="avatar"
            type="file"
            (change)="onAvatarSelected($event)"
            accept="image/*"
            class="file-input"
          />
          <button type="button" (click)="clearAvatar()" class="btn-clear">
            {{ "SETTINGS.BUTTON.CLEAR_AVATAR" | translate }}
          </button>
        </div>
        <div class="btn-avatar-container">
          <button type="button" (click)="uploadAvatar()" class="btn-upload">
            {{ "SETTINGS.BUTTON.UPLOAD_AVATAR" | translate }}
          </button>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="nickname">{{ "SETTINGS.FORM.NICKNAME" | translate }}</label>
      <input
        id="nickname"
        formControlName="nickname"
        type="text"
        class="form-control"
        autocomplete="off"
      />
    </div>

    <div class="form-group">
      <label for="email">{{ "SETTINGS.FORM.EMAIL" | translate }}</label>
      <input
        id="email"
        formControlName="email"
        type="email"
        class="form-control"
        autocomplete="off"
      />
    </div>

    <div class="form-group">
      <label for="currentPassword">{{
        "SETTINGS.FORM.CURRENTPASSWORD" | translate
      }}</label>
      <input
        id="currentPassword"
        formControlName="currentPassword"
        type="password"
        class="form-control"
        [type]="showPassword ? 'text' : 'password'"
        autocomplete="current-password"
      />
    </div>

    <div class="form-group">
      <label for="newPassword">{{
        "SETTINGS.FORM.NEWPASSWORD" | translate
      }}</label>
      <input
        id="newPassword"
        formControlName="newPassword"
        type="password"
        class="form-control"
        autocomplete="new-password"
      />
    </div>

    <div class="form-group">
      <label for="confirmNewPassword">{{
        "SETTINGS.FORM.CONFIRMNEWPASSWORD" | translate
      }}</label>
      <input
        id="confirmNewPassword"
        formControlName="confirmNewPassword"
        type="password"
        class="form-control"
        autocomplete="new-password"
      />
    </div>

    <button type="submit" [disabled]="!settingsForm.valid" class="btn-submit">
      {{ "SETTINGS.BUTTON.CONFIRM" | translate }}
    </button>
  </form>
</div>
