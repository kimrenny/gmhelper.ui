<div class="geo-solution-canvas-container">
  <button class="close-button" (click)="onClose()">×</button>

  <div
    class="canvas-wrapper"
    #canvasWrapper
    (mousedown)="startPan($event)"
    (mousemove)="onPan($event)"
    (mouseup)="endPan()"
    (mouseleave)="endPan()"
    (wheel)="onWheel($event)"
  >
    <canvas #geoSolutionCanvas class="canvas" [class.blurred]="false"></canvas>
  </div>

  <div class="scale-controls">
    <button (click)="adjustScale(-10)" [disabled]="scale <= minScale">-</button>
    <span class="scale-value">{{ scale }}%</span>
    <button (click)="adjustScale(10)" [disabled]="scale >= maxScale">+</button>
  </div>

  <div class="rating-container" *ngIf="isAuthorized">
    <div class="rating-text">{{ "CANVAS.SOLUTION.RATE" | translate }}</div>
    <div class="rating-buttons">
      <button
        [ngClass]="{ rated: isRated && rated, correct: rated === true }"
        (click)="onRateSolution(true)"
        aria-label="Rate correct"
      >
        ▲
      </button>
      <button
        [ngClass]="{
          rated: isRated && rated === false,
          incorrect: rated === false
        }"
        (click)="onRateSolution(false)"
        aria-label="Rate incorrect"
      >
        ▼
      </button>
    </div>
  </div>
</div>
